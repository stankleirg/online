<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dashboard | Online Sales</title>
  <link rel="stylesheet" href="/styles.css" />
  <meta name="color-scheme" content="light" />
</head>
<body class="bg">
  <div class="layout">
    <aside class="sidebar">
      <div class="card side-head">
        <div class="logo">OS</div>
        <div>
          <div class="side-title">ONLINE SALES</div>
          <div id="roleBadge" class="side-sub">Role: -</div>
        </div>
      </div>

      <nav class="nav">
  <a class="nav-item active" href="/dashboard.html" data-role="admin,staff,customer">Dashboard</a>
  <a class="nav-item" href="/products.html" data-role="admin,staff,customer">Products</a>
  <a class="nav-item" href="/orders.html" data-role="admin,staff,customer">Orders</a>
  <a class="nav-item" href="/payments.html" data-role="admin,staff,customer">Payments</a>
</nav>

      <div class="side-foot">
        <button class="btn ghost" id="logoutBtn">Logout</button>
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div>
          <div class="page-title">Laporan Keuangan & Analisa</div>
          <div class="muted" id="hello">Halo, -</div>
        </div>

        <div class="filters">
          <select class="input" id="filterMonth">
            <option value="all">Semua Bulan</option>
            <option value="1">Januari</option>
            <option value="2">Februari</option>
            <option value="3">Maret</option>
            <option value="4">April</option>
            <option value="5">Mei</option>
            <option value="6">Juni</option>
            <option value="7">Juli</option>
            <option value="8">Agustus</option>
            <option value="9">September</option>
            <option value="10">Oktober</option>
            <option value="11">November</option>
            <option value="12">Desember</option>
          </select>

          <select class="input" id="filterYear">
            <option value="all">Semua Tahun</option>
            <option>2025</option><option>2024</option><option>2023</option>
          </select>

          <button class="btn" id="btnFilter" type="button" onclick="alert('Filter demo: perhitungan masih sederhana dari API kamu. Nanti bisa kamu kembangkan ya üòÑ')">
            Filter
          </button>
        </div>
      </header>

      <section class="cards">
        <div class="card kpi">
          <div class="kpi-label">Omset Penjualan</div>
          <div class="kpi-value blue" id="kpiRevenue">Rp 0</div>
          <div class="muted small">Total order (paid‚Üícompleted)</div>
        </div>

        <div class="card kpi">
          <div class="kpi-label">Total Modal (HPP)</div>
          <div class="kpi-value" id="kpiCost">Rp 0</div>
          <div class="muted small">Estimasi HPP 70% omset</div>
        </div>

        <div class="card kpi">
          <div class="kpi-label">Profit Bersih</div>
          <div class="kpi-value green" id="kpiProfit">Rp 0</div>
          <div class="muted" id="kpiMargin">Margin: 0%</div>
        </div>
      </section>

      <section class="grid">
        <div class="card panel">
          <div class="panel-title">Ringkasan Aktivitas</div>

          <div class="bar-row">
            <div class="bar-label">Produk aktif</div>
            <div class="bar-track"><div class="bar-fill" id="barProducts"></div></div>
            <div class="bar-num" id="numProducts">0</div>
          </div>

          <div class="bar-row">
            <div class="bar-label">Total order</div>
            <div class="bar-track"><div class="bar-fill" id="barOrders"></div></div>
            <div class="bar-num" id="numOrders">0</div>
          </div>

          <div class="bar-row">
            <div class="bar-label">Paid/Verified</div>
            <div class="bar-track"><div class="bar-fill" id="barPaid"></div></div>
            <div class="bar-num" id="numPaid">0</div>
          </div>

          <div class="muted small" style="margin-top:10px">
            *Dashboard ini ambil data dari endpoint API. Angka omset/HPP/profit masih rumus sederhana.
          </div>

          <div style="display:flex; gap:10px; margin-top:14px; flex-wrap:wrap">
            <a class="btn" href="/products.html" style="text-decoration:none">Kelola Produk</a>
            <a class="btn" href="/orders.html" style="text-decoration:none">Lihat Orders</a>
            <a class="btn" href="/payments.html" style="text-decoration:none">Cek Payments</a>
            <a class="btn ghost" href="/categories.html" style="text-decoration:none">Categories</a>
          </div>
        </div>

        <div class="card panel">
          <div class="panel-title red">Slow Moving (Stok Besar)</div>

          <table class="table">
            <thead>
              <tr>
                <th>Nama Barang</th>
                <th>Stok</th>
                <th>Harga</th>
              </tr>
            </thead>
            <tbody id="slowTable">
              <tr><td colspan="3" class="muted">Loading‚Ä¶</td></tr>
            </tbody>
          </table>

          <div class="muted small" style="margin-top:10px">
            Tips: untuk ‚Äúfast moving‚Äù, kamu bisa hitung berdasarkan total qty terjual dari order_items (kalau sudah kamu isi datanya).
          </div>
        </div>
      </section>

      <section class="grid" style="margin-top:16px">
        <div class="card panel">
          <div class="panel-title">Recent Orders (Demo)</div>
          <table class="table">
            <thead>
              <tr>
                <th>Kode</th>
                <th>Status</th>
                <th>Total</th>
                <th>Tanggal</th>
              </tr>
            </thead>
            <tbody id="recentOrders">
              <tr>
                <td colspan="4" class="muted">
                  Halaman Orders ada di <b>/orders.html</b>.
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="card panel">
          <div class="panel-title">Notes</div>
          <div class="muted" style="line-height:1.6">
            <b>Berikut adalah tampilan aplikasi untuk tugas UAS</b><br/>
          </div>

          <div style="display:flex; gap:10px; margin-top:14px; flex-wrap:wrap">
            <a class="btn ghost" href="/users.html" style="text-decoration:none">Kelola Users</a>
            <a class="btn ghost" href="/categories.html" style="text-decoration:none">Kelola Categories</a>
          </div>
        </div>
      </section>

    </main>
  </div>

  <script src="/app.js"></script>
</body>
</html>
